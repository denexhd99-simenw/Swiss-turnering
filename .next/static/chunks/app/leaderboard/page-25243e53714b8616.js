(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{7855:function(e,t,a){Promise.resolve().then(a.bind(a,4373))},4373:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var s=a(3827),l=a(4090),n=a(5948),r=a(4999);let d=(0,r.Z)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]),i=(0,r.Z)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);function c(){let[e,t]=(0,l.useState)([]),[a,r]=(0,l.useState)([]),[c,h]=(0,l.useState)("all");async function o(){let e=await fetch("/api/players").then(e=>e.json()),a=await fetch("/api/departments").then(e=>e.json());t(e),r(a)}(0,l.useEffect)(()=>{o();let e=setInterval(o,5e3);return()=>clearInterval(e)},[]);let x=[..."all"===c?e:e.filter(e=>e.department.id===Number(c))].sort((e,t)=>t.points-e.points),m=a.map(t=>{let a=e.filter(e=>e.department.id===t.id),s=a.length>0?a.reduce((e,t)=>e+t.points,0)/a.length:0;return{name:t.name,average:s.toFixed(2)}}).sort((e,t)=>Number(t.average)-Number(e.average));function u(e){return 0===e?"text-yellow-400":1===e?"text-gray-300":2===e?"text-amber-600":""}return(0,s.jsxs)("div",{className:"space-y-12",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold flex items-center gap-3",children:[(0,s.jsx)(d,{className:"text-yellow-400"}),"Leaderboard"]}),(0,s.jsxs)("select",{value:c,onChange:e=>h(e.target.value),className:"bg-slate-900 border border-slate-700 rounded-xl px-4 py-2 text-lg",children:[(0,s.jsx)("option",{value:"all",children:"Alle avdelingar"}),a.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsx)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-lg",children:(0,s.jsxs)("table",{className:"w-full text-lg",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-slate-400 border-b border-slate-800",children:[(0,s.jsx)("th",{className:"text-left pb-3",children:"Plass"}),(0,s.jsx)("th",{className:"text-left pb-3",children:"Namn"}),(0,s.jsx)("th",{className:"text-left pb-3",children:"Avdeling"}),(0,s.jsx)("th",{className:"text-right pb-3",children:"Poeng"})]})}),(0,s.jsx)("tbody",{children:x.map((e,t)=>(0,s.jsxs)(n.E.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*t},className:"border-b border-slate-800",children:[(0,s.jsxs)("td",{className:"py-3 font-bold ".concat(u(t)),children:[0===t&&(0,s.jsx)(i,{className:"inline mr-2 text-yellow-400",size:18}),t+1]}),(0,s.jsx)("td",{className:u(t),children:e.name}),(0,s.jsx)("td",{children:e.department.name}),(0,s.jsx)("td",{className:"text-right text-blue-400 font-bold",children:e.points})]},e.id))})]})}),(0,s.jsxs)("div",{className:"bg-slate-900 border border-slate-800 rounded-2xl p-6 shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"\uD83C\uDFE2 Avdelingsranking (Snittpoeng)"}),(0,s.jsx)("div",{className:"space-y-4",children:m.map((e,t)=>(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between text-lg",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsx)("span",{className:"text-blue-400 font-bold",children:e.average})]}),(0,s.jsx)("div",{className:"h-3 bg-slate-800 rounded-full mt-2",children:(0,s.jsx)("div",{className:"h-3 bg-blue-500 rounded-full",style:{width:"".concat(10*Number(e.average),"%")}})})]},e.name))})]})]})}}},function(e){e.O(0,[166,971,69,744],function(){return e(e.s=7855)}),_N_E=e.O()}]);