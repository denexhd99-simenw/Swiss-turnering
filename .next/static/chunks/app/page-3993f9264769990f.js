(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9343:function(e,d,r){Promise.resolve().then(r.bind(r,6911))},4464:function(e,d,r){"use strict";r.d(d,{Z:function(){return o}});var l=r(3827);let s=[{title:"Start",rounds:[1]},{title:"Runde 2",rounds:[2]},{title:"Runde 3",rounds:[3]},{title:"Runde 4",rounds:[4]},{title:"Siste Sjans",rounds:[5]}],a=["3-0","3-1","3-2"],n=["0-3","1-3","2-3"];function t(e,d,r){let l=["rounded-md px-2 py-1 text-sm"];return r?l.push("bg-emerald-600/35 text-emerald-100"):l.push("bg-slate-900/90 text-slate-100"),d&&e===d&&l.push("ring-2 ring-cyan-300 shadow-[0_0_0_1px_rgba(103,232,249,.45)]"),l.join(" ")}function i(e,d){var r,l;let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"cyan";return d&&((null===(r=e.player1)||void 0===r?void 0:r.id)===d||(null===(l=e.player2)||void 0===l?void 0:l.id)===d)?"amber"===s?"rounded-xl border border-cyan-300 bg-[#102445] p-3 ring-2 ring-cyan-300 shadow-[0_0_0_1px_rgba(103,232,249,.45)]":"rounded-xl border border-cyan-300 bg-[#0d2243] p-3 ring-2 ring-cyan-300 shadow-[0_0_0_1px_rgba(103,232,249,.45)]":"amber"===s?"rounded-xl border border-amber-400/45 bg-[#0c1b33] p-3 shadow-[0_0_0_1px_rgba(251,191,36,.15)]":"rounded-xl border border-cyan-500/50 bg-[#07162f] p-3 shadow-[0_0_0_1px_rgba(34,211,238,.15)]"}function o(e){var d,r,o;let{players:c,matches:x,selectedPlayerId:m}=e,u=function(e){let d={};for(let r of e){let e="".concat(r.wins,"-").concat(r.losses);d[e]||(d[e]=[]),d[e].push(r)}return d}(c),v=x.filter(e=>"SWISS"===e.phase),b=x.filter(e=>"KNOCKOUT"===e.phase),p=b.length>0,h=Array.from(new Set(b.map(e=>e.round))).sort((e,d)=>e-d),g=h.length?b.find(e=>e.round===h[h.length-1]):null,j=g&&g.winnerId?g.winnerId:g&&null===g.player2&&null!==(r=null===(d=g.player1)||void 0===d?void 0:d.id)&&void 0!==r?r:null,N=j?c.find(e=>e.id===j):null;return(0,l.jsx)("div",{className:"space-y-6",children:(0,l.jsx)("div",{className:"overflow-x-auto",children:p?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsx)("div",{className:"rounded-xl border border-amber-400/45 bg-[#0b1730] px-4 py-3 text-sm font-bold text-amber-300",children:"VINN ELLER FORSVINN"}),(0,l.jsxs)("div",{className:"grid min-w-[1200px] grid-cols-5 gap-4",children:[h.map(e=>{let d=b.filter(d=>d.round===e).sort((e,d)=>e.id-d.id);return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"rounded-lg border border-amber-400/45 bg-slate-950/90 px-3 py-2 text-center text-sm font-bold text-amber-200",children:["Runde ",e]}),d.map(e=>{var d,r,s,a,n,o,c,x;return(0,l.jsxs)("div",{className:i(e,m,"amber"),children:[(0,l.jsxs)("div",{className:"mb-2 text-[11px] font-bold tracking-wider text-amber-300",children:["Kamp #",e.id]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:t(null===(d=e.player1)||void 0===d?void 0:d.id,m,e.winnerId===(null===(r=e.player1)||void 0===r?void 0:r.id)),children:null!==(c=null===(s=e.player1)||void 0===s?void 0:s.name)&&void 0!==c?c:"TBA"}),(0,l.jsx)("div",{className:"text-center text-[10px] font-bold text-slate-500",children:"VS"}),(0,l.jsx)("div",{className:t(null===(a=e.player2)||void 0===a?void 0:a.id,m,e.winnerId===(null===(n=e.player2)||void 0===n?void 0:n.id)),children:null!==(x=null===(o=e.player2)||void 0===o?void 0:o.name)&&void 0!==x?x:"TBA"})]})]},e.id)})]},e)}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"rounded-lg border border-emerald-400/60 bg-emerald-900/30 px-3 py-2 text-center text-sm font-bold text-emerald-300",children:"Vinnar"}),(0,l.jsxs)("div",{className:"rounded-xl border border-emerald-400/60 bg-emerald-950/40 p-3",children:[(0,l.jsx)("div",{className:"mb-2 text-xs font-bold tracking-wider text-emerald-300",children:"Champion"}),(0,l.jsx)("div",{className:"rounded-md bg-emerald-600/30 px-2 py-2 text-sm text-emerald-100",children:null!==(o=null==N?void 0:N.name)&&void 0!==o?o:"Ikkje avgjort enno"})]})]})]})]}):(0,l.jsxs)("div",{className:"grid min-w-[1200px] grid-cols-7 gap-4",children:[s.map(e=>{let d=v.filter(d=>e.rounds.includes(d.round)).sort((e,d)=>e.id-d.id);return(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"rounded-lg border border-cyan-500/40 bg-slate-950/90 px-3 py-2 text-center text-sm font-bold text-cyan-200",children:e.title}),d.map(e=>{var d,r,s,a,n,o,c,x;return(0,l.jsxs)("div",{className:i(e,m,"cyan"),children:[(0,l.jsxs)("div",{className:"mb-2 text-[11px] font-bold tracking-wider text-cyan-300",children:["Kamp #",e.id]}),(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("div",{className:t(null===(d=e.player1)||void 0===d?void 0:d.id,m,e.winnerId===(null===(r=e.player1)||void 0===r?void 0:r.id)),children:null!==(c=null===(s=e.player1)||void 0===s?void 0:s.name)&&void 0!==c?c:"TBA"}),(0,l.jsx)("div",{className:"text-center text-[10px] font-bold text-slate-500",children:"VS"}),(0,l.jsx)("div",{className:t(null===(a=e.player2)||void 0===a?void 0:a.id,m,e.winnerId===(null===(n=e.player2)||void 0===n?void 0:n.id)),children:null!==(x=null===(o=e.player2)||void 0===o?void 0:o.name)&&void 0!==x?x:"TBA"})]})]},e.id)}),0===d.length&&(0,l.jsx)("div",{className:"rounded-xl border border-dashed border-slate-700 bg-[#07162f] p-3 text-xs text-slate-500",children:"Ingen kampar"})]},e.title)}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"rounded-lg border border-emerald-400/60 bg-emerald-900/30 px-3 py-2 text-center text-sm font-bold text-emerald-300",children:"Vidare"}),a.map(e=>{var d,r;return(0,l.jsxs)("div",{className:"rounded-xl border border-emerald-400/60 bg-emerald-950/40 p-3",children:[(0,l.jsx)("div",{className:"mb-2 text-xs font-bold tracking-wider text-emerald-300",children:e}),(0,l.jsxs)("div",{className:"space-y-2",children:[(null!==(d=u[e])&&void 0!==d?d:[]).map(e=>(0,l.jsx)("div",{className:"rounded-md px-2 py-1 text-sm ".concat(t(e.id,m,!1)),children:e.name},e.id)),0===(null!==(r=u[e])&&void 0!==r?r:[]).length&&(0,l.jsx)("div",{className:"rounded-md border border-dashed border-emerald-800 px-2 py-2 text-xs text-emerald-700",children:"Ingen"})]})]},e)})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("div",{className:"rounded-lg border border-rose-400/60 bg-rose-900/30 px-3 py-2 text-center text-sm font-bold text-rose-300",children:"Ute"}),n.map(e=>{var d,r;return(0,l.jsxs)("div",{className:"rounded-xl border border-rose-400/60 bg-rose-950/40 p-3",children:[(0,l.jsx)("div",{className:"mb-2 text-xs font-bold tracking-wider text-rose-300",children:e}),(0,l.jsxs)("div",{className:"space-y-2",children:[(null!==(d=u[e])&&void 0!==d?d:[]).map(e=>(0,l.jsx)("div",{className:"rounded-md px-2 py-1 text-sm ".concat(t(e.id,m,!1)),children:e.name},e.id)),0===(null!==(r=u[e])&&void 0!==r?r:[]).length&&(0,l.jsx)("div",{className:"rounded-md border border-dashed border-rose-800 px-2 py-2 text-xs text-rose-700",children:"Ingen"})]})]},e)})]})]})})})}},6911:function(e,d,r){"use strict";r.r(d),r.d(d,{default:function(){return n}});var l=r(3827),s=r(4090),a=r(4464);function n(){let[e,d]=(0,s.useState)([]),[r,n]=(0,s.useState)([]),[t,i]=(0,s.useState)(null);async function o(){let[e,r]=await Promise.all([fetch("/api/players").then(e=>e.json()),fetch("/api/matches").then(e=>e.json())]);d(e),n(r)}(0,s.useEffect)(()=>{o();let e=setInterval(o,4e3);return()=>clearInterval(e)},[]);let c=(0,s.useMemo)(()=>{let d=e.filter(e=>e.wins>=3).length,r=e.filter(e=>e.losses>=3).length,l=e.length-d-r;return{qualified:d,eliminated:r,inPlay:l}},[e]),x=(0,s.useMemo)(()=>t?r.filter(e=>{var d,r;return(null===(d=e.player1)||void 0===d?void 0:d.id)===t||(null===(r=e.player2)||void 0===r?void 0:r.id)===t}):r,[r,t]);return(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsxs)("div",{className:"rounded-2xl border border-cyan-500/40 bg-slate-950/80 p-6",children:[(0,l.jsx)("h1",{className:"text-4xl font-black tracking-wide text-cyan-200",children:"Turnering Oversikt"}),(0,l.jsx)("p",{className:"mt-2 text-slate-300",children:"Swiss format: 3 wins vidare, 3 tap ute."}),(0,l.jsxs)("div",{className:"mt-6 grid gap-4 md:grid-cols-3",children:[(0,l.jsxs)("div",{className:"rounded-xl border border-emerald-500/50 bg-emerald-950/40 p-4",children:[(0,l.jsx)("div",{className:"text-xs font-bold text-emerald-300",children:"VIDARE"}),(0,l.jsx)("div",{className:"text-3xl font-black text-emerald-200",children:c.qualified})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-cyan-500/50 bg-slate-900/80 p-4",children:[(0,l.jsx)("div",{className:"text-xs font-bold text-cyan-300",children:"I SPEL"}),(0,l.jsx)("div",{className:"text-3xl font-black text-cyan-200",children:c.inPlay})]}),(0,l.jsxs)("div",{className:"rounded-xl border border-rose-500/50 bg-rose-950/40 p-4",children:[(0,l.jsx)("div",{className:"text-xs font-bold text-rose-300",children:"UTE"}),(0,l.jsx)("div",{className:"text-3xl font-black text-rose-200",children:c.eliminated})]})]})]}),(0,l.jsxs)("div",{className:"rounded-2xl border border-cyan-500/30 bg-slate-950/60 p-4",children:[(0,l.jsx)("label",{className:"mb-2 block text-sm font-semibold text-cyan-300",children:"Marker spelar"}),(0,l.jsxs)("select",{value:null!=t?t:"",onChange:e=>i(e.target.value?Number(e.target.value):null),className:"w-full rounded-lg border border-cyan-500/40 bg-[#07162f] px-4 py-2 text-white md:w-[340px]",children:[(0,l.jsx)("option",{value:"",children:"Vis alle"}),e.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsx)(a.Z,{players:e,matches:r,selectedPlayerId:t}),(0,l.jsxs)("div",{className:"rounded-2xl border border-cyan-500/30 bg-slate-950/70 p-6",children:[(0,l.jsx)("h2",{className:"mb-4 text-xl font-black tracking-wide text-cyan-200",children:"Kampar"}),(0,l.jsxs)("div",{className:"grid gap-3 md:grid-cols-2 xl:grid-cols-3",children:[x.map(e=>{var d,r,s,a,n,t;return(0,l.jsxs)("div",{className:"rounded-xl border border-slate-700 bg-[#081326] p-4",children:[(0,l.jsx)("div",{className:"mb-3 text-xs font-bold text-cyan-300",children:"SWISS"!==e.phase?e.phase:"Runde ".concat(e.round)}),(0,l.jsx)("div",{className:e.winnerId===(null===(d=e.player1)||void 0===d?void 0:d.id)?"text-emerald-300":"text-slate-100",children:null!==(n=null===(r=e.player1)||void 0===r?void 0:r.name)&&void 0!==n?n:"TBA"}),(0,l.jsx)("div",{className:"my-1 text-xs text-slate-500",children:"vs"}),(0,l.jsx)("div",{className:e.winnerId===(null===(s=e.player2)||void 0===s?void 0:s.id)?"text-emerald-300":"text-slate-100",children:null!==(t=null===(a=e.player2)||void 0===a?void 0:a.name)&&void 0!==t?t:"TBA"})]},e.id)}),0===x.length&&(0,l.jsx)("div",{className:"rounded-xl border border-dashed border-slate-700 p-5 text-sm text-slate-400",children:"Ingen kampar for dette filteret."})]})]})]})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=9343)}),_N_E=e.O()}]);